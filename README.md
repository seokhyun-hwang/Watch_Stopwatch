# â±ï¸ FPGA Smart Watch & Stopwatch

![Language](https://img.shields.io/badge/Language-Verilog-blue?style=flat&logo=verilog)
![Tool](https://img.shields.io/badge/Tool-Vivado-red?style=flat&logo=xilinx)
![Board](https://img.shields.io/badge/Board-Basys3-green?style=flat&logo=fpga)

> **Basys 3 ë³´ë“œì˜ ë¬¼ë¦¬ ë²„íŠ¼ê³¼ ìŠ¤ìœ„ì¹˜ë¥¼ í™œìš©í•œ ë…ë¦½í˜• ë””ì§€í„¸ ì‹œê³„ ë° ìŠ¤í†±ì›Œì¹˜ ì„¤ê³„**

---

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš” (Project Overview)

ì´ í”„ë¡œì íŠ¸ëŠ” **Basys 3 FPGA ë³´ë“œ**ë¥¼ í™œìš©í•˜ì—¬ ë””ì§€í„¸ ì‹œê³„(Watch)ì™€ ìŠ¤í†±ì›Œì¹˜(Stopwatch) ê¸°ëŠ¥ì„ êµ¬í˜„í•œ ê²°ê³¼ë¬¼ì…ë‹ˆë‹¤.
FPGA ë‚´ë¶€ ë¡œì§ê³¼ ë¬¼ë¦¬ì  ì…ì¶œë ¥ ì¥ì¹˜(Switch, Button, 7-Segment Display)ë¡œ ë™ì‘í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ê¸°ê³„ì  ìŠ¤ìœ„ì¹˜ì˜ ë…¸ì´ì¦ˆë¥¼ ì œê±°í•˜ëŠ” **ë””ë°”ìš´ì‹±(Debouncing)** ê¸°ìˆ ê³¼ ì •í™•í•œ ì‹œê°„ ê³„ìˆ˜ë¥¼ ìœ„í•œ **í´ëŸ­ ë¶„ì£¼(Clock Division)** ì„¤ê³„ì— ì¤‘ì ì„ ë‘ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥ (Key Features)

### 1ï¸âƒ£ ë“€ì–¼ ëª¨ë“œ ì‹œê°„ ê´€ë¦¬ (Dual Mode Timekeeping)
* **ğŸ•’ Digital Watch:** ì‹œ(Hour), ë¶„(Min), ì´ˆ(Sec) ë‹¨ìœ„ì˜ ì‹¤ì‹œê°„ ì‹œê³„ ê¸°ëŠ¥ (24ì‹œê°„ì œ).
* **â±ï¸ Stopwatch:** 1/100ì´ˆ(10ms) ë‹¨ìœ„ì˜ ì •ë°€ íƒ€ì´ë¨¸ ê¸°ëŠ¥.
* **ğŸ”„ ëª¨ë“œ ì „í™˜:** ë³´ë“œì˜ ìŠ¤ìœ„ì¹˜(`sw1`) ì¡°ì‘ì„ í†µí•´ ì‹œê³„ ëª¨ë“œì™€ ìŠ¤í†±ì›Œì¹˜ ëª¨ë“œ ê°„ í™”ë©´ ì „í™˜ ê°€ëŠ¥.

### 2ï¸âƒ£ í•˜ë“œì›¨ì–´ ì œì–´ ì‹œìŠ¤í…œ (Hardware Control System)
* **ì‹œê°„ ì„¤ì •:** ì‹œê³„ ëª¨ë“œì—ì„œ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹œ/ë¶„/ì´ˆë¥¼ ê°œë³„ì ìœ¼ë¡œ ì¡°ì • ê°€ëŠ¥.
* **ìŠ¤í†±ì›Œì¹˜ ì œì–´:**
    * **Run/Stop:** ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¹´ìš´íŒ… ì‹œì‘ ë° ì¼ì‹œ ì •ì§€.
    * **Clear:** ì •ì§€ ìƒíƒœì—ì„œ ì‹œê°„ì„ `00:00.00`ìœ¼ë¡œ ì´ˆê¸°í™”.
* **ì…ë ¥ ì•ˆì •í™”:** ëª¨ë“  ë²„íŠ¼ ì…ë ¥ì— Debounce ëª¨ë“ˆì„ ì ìš©í•˜ì—¬ ì˜¤ì‘ë™(Chattering) ë°©ì§€.

### 3ï¸âƒ£ ğŸ“º ë””ìŠ¤í”Œë ˆì´ (FND Controller)
* **Multiplexing:** 4ìë¦¬ 7-Segment Displayë¥¼ ê³ ì†(1kHz)ìœ¼ë¡œ ì‹œë¶„í•  êµ¬ë™í•˜ì—¬ ì”ìƒ íš¨ê³¼ë¥¼ ì´ìš©í•œ ìˆ«ì í‘œì‹œ.
* **Visual Feedback:**
    * ì‹œê³„ ëª¨ë“œ: `ì‹œ:ë¶„` í‘œì‹œ (ì´ˆ ë‹¨ìœ„ëŠ” ë‚´ë¶€ ì¹´ìš´íŒ…).
    * ìŠ¤í†±ì›Œì¹˜ ëª¨ë“œ: `ì´ˆ.ë°€ë¦¬ì´ˆ` í‘œì‹œ ë° ë™ì‘ ì¤‘ Dot(.) ì ë©¸ ê¸°ëŠ¥ ì§€ì›.

---

## ğŸ› ï¸ í•˜ë“œì›¨ì–´ ì•„í‚¤í…ì²˜ (H/W Architecture)

ì´ í”„ë¡œì íŠ¸ëŠ” í¬ê²Œ **íƒ€ì´ë° ìƒì„±ë¶€**, **ì œì–´ë¶€**, ê·¸ë¦¬ê³  **ë°ì´í„° ì²˜ë¦¬ë¶€**ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.

| ëª¨ë“ˆëª… (Module) | ì—­í•  (Role) | ì£¼ìš” ìƒì„¸ ë‚´ìš© |
| :--- | :--- | :--- |
| **clock_top.v** | ìµœìƒìœ„ ëª¨ë“ˆ | ì‹œìŠ¤í…œ í´ëŸ­, ë²„íŠ¼ ì…ë ¥, FND ì¶œë ¥ì„ ì—°ê²°í•˜ëŠ” Top Wrapper |
| **watch_dp.v** | ì‹œê³„ ë°ì´í„°íŒ¨ìŠ¤ | 1Hz(1ì´ˆ) í‹±ì„ ìƒì„±í•˜ì—¬ ì‹œ/ë¶„/ì´ˆ ì¹´ìš´í„° ë™ì‘ ë° ì˜¤ë²„í”Œë¡œìš°(60ì´ˆ/60ë¶„/24ì‹œ) ì²˜ë¦¬ |
| **stopwatch_dp.v** | ìŠ¤í†±ì›Œì¹˜ ë°ì´í„°íŒ¨ìŠ¤ | 100Hz(10ms) í‹± ê¸°ë°˜ ì¹´ìš´íŒ… ë¡œì§ |
| **stopwatch_cu.v** | ìŠ¤í†±ì›Œì¹˜ ì œì–´ë¶€ | FSM(Finite State Machine)ì„ ì´ìš©í•œ `STOP`, `RUN`, `CLEAR` ìƒíƒœ ì „ì´ ê´€ë¦¬ |
| **fnd_controller.v** | ë””ìŠ¤í”Œë ˆì´ ì»¨íŠ¸ë¡¤ëŸ¬ | ì…ë ¥ëœ ì‹œê°„ ë°ì´í„°ë¥¼ 7-Segmentì˜ Segment ì‹ í˜¸ì™€ Digit ì„ íƒ ì‹ í˜¸ë¡œ ë³€í™˜ (Dynamic Scanning) |
| **button_debounce.v** | ì…ë ¥ ì•ˆì •í™” | ê¸°ê³„ì  ìŠ¤ìœ„ì¹˜ì˜ ë–¨ë¦¼(Bouncing) í˜„ìƒì„ ì œê±°í•˜ì—¬ ê¹¨ë—í•œ í„ìŠ¤ ì‹ í˜¸ ìƒì„± |

---

## ğŸ® ì¡°ì‘ ë°©ë²• (Controls)

**Basys 3 Board**ì˜ ë¬¼ë¦¬ì  ìš”ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ì œì–´í•©ë‹ˆë‹¤.

### 1. ìŠ¤ìœ„ì¹˜ ì„¤ì •
* **SW[0] (Enable):** ì „ì²´ ì‹œìŠ¤í…œ í™œì„±í™” (ON ìƒíƒœì—¬ì•¼ ë™ì‘).
* **SW[1] (Mode Select):**
    * `OFF (0)`: ìŠ¤í†±ì›Œì¹˜ ëª¨ë“œ.
    * `ON (1)`: ë””ì§€í„¸ ì‹œê³„ ëª¨ë“œ.

### 2. ë²„íŠ¼ ê¸°ëŠ¥ (Modeì— ë”°ë¼ ë‹¤ë¦„)

| ë²„íŠ¼ (Button) | ìŠ¤í†±ì›Œì¹˜ ëª¨ë“œ (Stopwatch) | ì‹œê³„ ëª¨ë“œ (Watch) |
| :---: | :--- | :--- |
| **Btn_R** | **Run / Stop** í† ê¸€ | (ê¸°ëŠ¥ ì—†ìŒ) |
| **Btn_L** | **Clear** (ì •ì§€ ìƒíƒœì¼ ë•Œ) | **Hour** ì¦ê°€ (ì‹œê°„ ì„¤ì •) |
| **Btn_U** | (ê¸°ëŠ¥ ì—†ìŒ) | **Minute** ì¦ê°€ (ë¶„ ì„¤ì •) |
| **Btn_D** | (ê¸°ëŠ¥ ì—†ìŒ) | **Second** ì¦ê°€ (ì´ˆ ì„¤ì •) |

---

## âš¡ ê¸°ìˆ ì  ë„ì „ & íŠ¸ëŸ¬ë¸”ìŠˆíŒ… (Troubleshooting)

í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ ë°œìƒí•œ í•˜ë“œì›¨ì–´ì  ë¬¸ì œì ê³¼ í•´ê²° ê³¼ì •ì…ë‹ˆë‹¤.

### ğŸ›‘ ë¬¸ì œì  1: ìŠ¤ìœ„ì¹˜ ì±„í„°ë§ (Switch Bouncing)
* **í˜„ìƒ:** ë²„íŠ¼ì„ í•œ ë²ˆ ëˆŒë €ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì¹´ìš´í„°ê°€ ì—¬ëŸ¬ ë²ˆ ì¦ê°€í•˜ê±°ë‚˜ ìŠ¤í†±ì›Œì¹˜ê°€ ì‹œì‘í•˜ìë§ˆì ë©ˆì¶”ëŠ” í˜„ìƒ ë°œìƒ.
* **ì›ì¸:** ê¸°ê³„ì‹ ë²„íŠ¼ ë‚´ë¶€ì˜ ì ‘ì ì´ ë¶™ê±°ë‚˜ ë–¨ì–´ì§ˆ ë•Œ ë¯¸ì„¸í•œ ì§„ë™ìœ¼ë¡œ ì¸í•´ ìˆ˜ì‹­ ms ë™ì•ˆ High/Low ì‹ í˜¸ê°€ ë°˜ë³µë¨.
* **í•´ê²°ì±… (Debouncing):**
    * ìƒ˜í”Œë§ ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ì¼ì • ì‹œê°„(ì•½ 20ms) ë™ì•ˆ ì‹ í˜¸ê°€ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ë  ë•Œë§Œ ìœ íš¨í•œ ì…ë ¥ìœ¼ë¡œ ê°„ì£¼í•˜ëŠ” `button_debounce` ëª¨ë“ˆì„ êµ¬í˜„í•˜ì—¬ í•´ê²°.

### â±ï¸ ë¬¸ì œì  2: íƒ€ì´ë° ì˜¤ì°¨ (Timing Inaccuracy)
* **í˜„ìƒ:** ìŠ¤í†±ì›Œì¹˜ë¥¼ ì¥ì‹œê°„ ë™ì‘ì‹œì¼°ì„ ë•Œ, ì‹¤ì œ ì‹œê°„(ìŠ¤ë§ˆíŠ¸í° ìŠ¤í†±ì›Œì¹˜)ê³¼ ë¯¸ì„¸í•œ ì°¨ì´ê°€ ë°œìƒí•¨.
* **ì›ì¸:** 100MHz ì‹œìŠ¤í…œ í´ëŸ­ì„ ë¶„ì£¼í•˜ëŠ” ê³¼ì •ì—ì„œ ì¹´ìš´í„° ì¡°ê±´ ì„¤ì • ë¯¸í¡ìœ¼ë¡œ ì¸í•œ 1 í´ëŸ­ ì˜¤ì°¨ ëˆ„ì .
* **í•´ê²°ì±… (Precise Prescaler):**
    * 100MHz í´ëŸ­ì—ì„œ ì •í™•íˆ 10ms(100Hz)ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì¹´ìš´í„° ìƒìˆ˜ë¥¼ ì •í™•í•˜ê²Œ ê³„ì‚°í•˜ì—¬ ì ìš© (`cnt == 1_000_000 - 1`).
    * ì¡°ê±´ë¬¸(`>=` ëŒ€ì‹  `==`)ì„ ëª…í™•íˆ ì‚¬ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ í´ëŸ­ ì‚¬ì´í´ ë‚­ë¹„ë¥¼ ë°©ì§€.

---

## ğŸ“‚ ë°œí‘œ ìë£Œ (Materials)

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ìƒì„¸í•œ ë‚´ìš©ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[![PDF Report](https://img.shields.io/badge/ğŸ“„_PDF_Report-View_Document-FF0000?style=for-the-badge&logo=adobeacrobatreader&logoColor=white)](https://github.com/seokhyun-hwang/files/blob/main/watch_stopwatch_verilog.pdf)
*(ìœ„ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë°œí‘œìë£Œ PDFë¡œ ì´ë™í•©ë‹ˆë‹¤.)*

---

## ğŸ“‚ í´ë” êµ¬ì¡° (Project Structure)

```bash
ğŸ“¦ FPGA_Watch_Project
 â”œâ”€â”€ ğŸ“‚ src
 â”‚   â”œâ”€â”€ ğŸ“œ clock_top.v          # [Top] ìµœìƒìœ„ ëª¨ë“ˆ (Watch + Stopwatch í†µí•©)
 â”‚   â”œâ”€â”€ ğŸ“œ watch.v              # ì‹œê³„ Top ëª¨ë“ˆ
 â”‚   â”œâ”€â”€ ğŸ“œ watch_dp.v           # ì‹œê³„ ì¹´ìš´í„° ë° ì‹œê°„ ë¡œì§
 â”‚   â”œâ”€â”€ ğŸ“œ stopwatch.v          # ìŠ¤í†±ì›Œì¹˜ Top ëª¨ë“ˆ
 â”‚   â”œâ”€â”€ ğŸ“œ stopwatch_dp.v       # ìŠ¤í†±ì›Œì¹˜ ë°ì´í„°íŒ¨ìŠ¤ (1/100ì´ˆ ì¹´ìš´í„°)
 â”‚   â”œâ”€â”€ ğŸ“œ stopwatch_cu.v       # ìŠ¤í†±ì›Œì¹˜ FSM ì œì–´ê¸° (Run/Stop/Clear)
 â”‚   â”œâ”€â”€ ğŸ“œ fnd_controller.v     # 7-Segment ë””ìŠ¤í”Œë ˆì´ ìŠ¤ìºë‹ ì œì–´
 â”‚   â””â”€â”€ ğŸ“œ button_debounce.v    # ë²„íŠ¼ ì±„í„°ë§ ë°©ì§€ ëª¨ë“ˆ
 â”œâ”€â”€ ğŸ“‚ constraint
 â”‚   â””â”€â”€ ğŸ“œ Basys-3-Master.xdc   # FPGA í•€ ë§µí•‘ íŒŒì¼
 â””â”€â”€ ğŸ“œ README.md

---
 Copyright â“’ 2025 SEOKHYUN HWANG. All rights reserved.
